// .vscode/launch.json
{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "node",
            "request": "launch",
            "name": "Launch Backend (Compiled JS)",
            // Program to execute: This points to your compiled JavaScript entry file
            "program": "${workspaceFolder}/dist/app.js",
            // Use --enable-source-maps for better debugging experience with TypeScript
            // This maps the compiled JS back to your original TS source code in the debugger.
            "args": ["--enable-source-maps"],
            "cwd": "${workspaceFolder}", // Start the debugger in your project root
            "protocol": "inspector",
            "console": "integratedTerminal", // Or "internalConsole" if you prefer
            "skipFiles": [
                "<node_internals>/**"
            ],
            // Pre-launch task to ensure your TypeScript code is compiled before debugging
            "preLaunchTask": "tsc: build - src/tsconfig.backend.json"
        }
    ],
    "compounds": [],
    "tasks": [
        {
            "label": "tsc: build - src/tsconfig.backend.json",
            "type": "shell",
            "command": "npx tsc --project src/tsconfig.backend.json",
            "problemMatcher": "$tsc",
            "isBackground": false,
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "silent"
            },
            "options": {
                "cwd": "${workspaceFolder}"
            }
        }
    ]
}
